const imgSliderCon=document.getElementById("imgSliderCon"),slideImg=document.querySelectorAll(".slideImg"),headerSlider=document.getElementById("headerSlider"),sliderPosition=document.querySelectorAll(".sliderPosition");var isDraggin=!1,startPos=0,currentTranslate=0,prevTranslate=0,animationId=0,currentIdx=0,lastCurrentIdx=-1,autoSlideId=0;const setAutoSlide=()=>{autoSlideId=setInterval(()=>{if(currentIdx<slideImg.length-1?(imgSliderCon.style.transition="900ms ease-out",currentIdx++,setPositionByIndex()):(currentIdx=0,setPositionByIndex()),0===currentIdx)for(let e=1;e<sliderPosition.length;e++)sliderPosition[e].style.backgroundColor="#ddd";else sliderPosition[currentIdx].style.backgroundColor="#4f6fce"},5e3)};setAutoSlide();const touchStart=e=>function(t){clearInterval(autoSlideId),currentIdx=e,startPos=getPositionX(t),isDraggin=!0,animationId=requestAnimationFrame(slideSliderAnimation)},touchMove=e=>{if(isDraggin){let t=getPositionX(e);currentTranslate=prevTranslate+t-startPos}},touchEnd=()=>{isDraggin=!1,cancelAnimationFrame(animationId);let e=currentTranslate-prevTranslate;e<-100&&currentIdx<slideImg.length-1&&(lastCurrentIdx+=1,sliderPosition[currentIdx+=1].style.backgroundColor="#4f6fce"),e>100&&currentIdx>0&&(lastCurrentIdx-=1,sliderPosition[(currentIdx-=1)+1].style.backgroundColor="#ddd"),setPositionByIndex()},getPositionX=e=>e.type.includes("mouse")?e.pageX:e.touches[0].clientX,slideSliderAnimation=()=>{setSliderPosition(),isDraggin&&requestAnimationFrame(slideSliderAnimation)},setSliderPosition=()=>{imgSliderCon.style.transform=`translateX(${currentTranslate}px)`},setPositionByIndex=()=>{prevTranslate=currentTranslate=-(currentIdx*headerSlider.clientWidth),setSliderPosition()};slideImg.forEach((e,t)=>{e.addEventListener("touchstart",touchStart(t),{passive:!0}),e.addEventListener("touchmove",touchMove,{passive:!0}),e.addEventListener("touchend",touchEnd,{passive:!0}),e.addEventListener("mousedown",touchStart(t),{passive:!0}),e.addEventListener("mousemove",touchMove,{passive:!0}),e.addEventListener("mouseup",touchEnd,{passive:!0}),e.addEventListener("mouseleave",touchEnd,{passive:!0})}),sliderPosition.forEach((e,t)=>{e.addEventListener("click",()=>{currentIdx=t;for(let e=0;e<t+1;e++)sliderPosition[e].style.backgroundColor="#4f6fce";for(let i=t+1;i<sliderPosition.length;i++)sliderPosition[i].style.backgroundColor="#ddd";setPositionByIndex()},{passive:!0})});